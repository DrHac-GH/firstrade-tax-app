# Firstrade 確定申告用 損益計算アプリ

Firstrade証券の売買履歴CSVを取り込み、日本円での譲渡損益を計算するWebアプリケーションです。

## 機能
- **CSVインポート**: Firstradeからダウンロードした `Gain/Loss` レポートのCSVに対応。
- **自動為替レート取得**: 売買日付に基づいて、Frankfurter API (ECB参照) からUSD/JPYの為替レートを自動取得します。
- **損益計算**:
  - 売却額 (USD) × 売却日レート = 売却額 (日本円)
  - 取得費 (USD) × 取得日レート = 取得費 (日本円)
  - 損益 (日本円) = 売却額 (円) - 取得費 (円)
- **CSVエクスポート**: 計算結果をCSVとして保存できます。

### 1. 起動
フォルダ内にある **`StartApp.command`** をダブルクリックしてください。
ターミナルが開き、自動的に必要な準備を行ってブラウザでアプリが起動します。

※ 初回起動時は準備に数分かかる場合があります。
※ 終了する際はターミナルのウィンドウを閉じてください。

#### (開発者向け) コマンドラインからの起動
```bash
npm install
npm run dev
```

### 3. 操作手順
1. 画面中央のアップロードエリアにFirstradeのCSVファイルをドロップします。
2. データが読み込まれたら「為替レート取得 & 計算」ボタンを押します。
3. 計算結果が表示されます。必要に応じてCSVをダウンロードしてください。

## 注意事項
- 本アプリは計算補助ツールです。確定申告の際は、税理士や税務署の指示に従い、最終的な数値の正確性を確認してください。
- 為替レートはECB(欧州中央銀行)のデータを参照しています。日本の主要銀行のTTMと若干の差異が生じる場合があります。
